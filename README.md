# 基于和风天气API和Spring Boot的环境监测与预警系统

- ## 数据库配置
  - 用户名："env"
  - 密码："123456"
  - navicat URL："navicat://conn.mysql@clouds/public/717c05cd/d426f09c61054a69a53a96279df65e2e?Conn.Host=localhost&Conn.Name=SandaEnvMonitor&Conn.Port=3306&Conn.UseHTTP=false&Conn.UseSSH=false&Conn.UseSSL=false&Conn.UseSocketFile=false&Conn.Username=env&Project.Name=SandaEnvMonitor&Project.Owner=%e6%99%a8%e6%97%ad%20%e5%bc%a0"
- ## 项目背景
    - ### 环境监测的重要性
        - 环境问题概述
        - 环境监测再预防和应对环境灾害中的作用
    - ### 现有系统不足
        - 实时性/响应速度
- ## 研究目的与意义
    - 开发一个实时环境监测与预警系统，能够及时获取和展示环境数据，提供预警通知。
    - ### 意义
        - 提升环境监测数据的实时性和准确性
        - 提供有效的预警机制，帮助相关部门和公众及时应对环境变化
        - 学习和应用Java EE相关技术，提升开发技能
- ## 需求分析
    - ### 功能需求
        - 实时环境数据采集（和风天气API集成/免费）
        - 数据可视化展示（Grafana集成）
        - 异常检测与预警（基于设定阈值）
        - 历史数据查询与报告生成
        - 用户管理与通知配置（邮件通知(Gmail SMTP，集成JavaMail API)、Web前端提醒(WebSocket)）
    - ### 非功能需求
        - 系统性能-并发数据处理能力
        - 扩展-模块化设计
        - 安全性-数据安全
- ## 系统设计
    - ### 架构
        - 和风天气API数据处理
        - Spring Boot服务
            - Grafana数据可视化
            - Gmail SMTP邮件通知
        - Mysql数据库
            - Web实时提醒
    - ### 模块划分
        - 数据获取模块/和风天气API
        - 后端服务模块/Spring Boot
        - 数据存储模块/MySQL
        - 数据可视化/Grafana
        - 通知服务模块/Gmail SMTP和Web前端提醒
- ## 技术选型
    - ### 后端
        - Spring Boot-RESTful API
        - JavaMail API
    - ### 前端
        - HTML/CSS/JavaScript
    - ### 数据库
        - Mysql
    - ### 数据可视化
        - Grafana
    - ### API
        - 和风天气
    - ### 通知
        - Gmail SMTP
- ## 实现方案
    - ### 数据处理
        - 使用Spring Scheduler定时调用和风天气API，获取实时和预报数据
        - 解析API响应，存储到MySQL数据库
    - ### 数据可视化
        - 配置Grafana连接MySQL，设计仪表盘展示实时和历史天气数据
        - 设置Grafana报警规则，结合邮件和Web前端提醒
    - ### 异常检测
        - 根据设定的环境指标阈值进行数据监控
        - 检测到异常时，记录预警信息并触发通知服务
    - ### 通知
        - 使用JavaMail API集成Gmail SMTP，发送预警邮件
        - 在Web前端实现实时提醒功能，使用JavaScript与后端API交互
    - ### 用户管理
        - 实现用户注册、登录、角色权限管理
        - 提供用户配置预警参数和通知方式的界面
- ## 预期成果
    - ### 系统功能
        - 实时获取和展示环境数据
        - 提供实时和历史数据的可视化仪表盘
        - 实现异常检测与多渠道预警通知
        - 支持用户管理和个性化配置
    - ### 技术成果
        - 熟练掌握Java EE开发，Spring Boot框架应用
        - 熟悉API集成和数据处理
        - 掌握Grafana的数据可视化配置
        - 实现邮件通知和Web前端实时提醒功能
- ## 项目计划
    - 第一阶段（第1周）：需求分析与系统设计
    - 第二阶段（第2-4周）：后端开发（数据获取、存储、异常检测）
    - 第三阶段（第2-4周）：数据可视化配置（Grafana集成）
    - 第四阶段（第5周）：通知服务开发与集成
    - 第五阶段（第6周）：前端开发与用户界面设计
    - 第六阶段（第7周）：系统测试与优化
    - 第七阶段（第8周）：项目文档编写与PPT准备
    - ### 历程
        - 完成系统架构设计
        - 实现数据获取与存储模块
        - 完成Grafana仪表盘配置
        - 集成邮件通知和Web前端提醒
        - 完成系统测试与优化
- ## 风险
    - ### API
        - 和风天气API免费额度限制（1000次/天）
        - 限制访问频率，缓存数据
    - ### 通知服务
        - 邮件发送失败及延迟
        - 重试机制，记录日志，Web通知
